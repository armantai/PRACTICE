<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="login.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css" integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body>


    <div class="container">
        <div class="login">
            <h1>Login</h1>
            <p>Welcome to my website</p>
            <form action="" id="loginForm">
                <div class="input-box">
                    <input type="email" autocomplete="email" placeholder="Enter Your Email">
                    <i class="fa-regular fa-envelope" style="color: #000000;"></i>
                </div>
                <div class="input-box">
                    <input type="password" autocomplete="current-password" placeholder="Enter Your Password">
                    <i class="fa-solid fa-key" style="color: #000000;"></i>
                </div>
                <div class="forgot-password"><a href="">Forgot password</a></div>
                <div class="login-button">
                    <button>Login</button>
                </div>
                <div class="forgot">
                    <p>Forgotten your login details? </p>
                    <p><a href="" style="text-decoration: none;"> Get help with loggin in.</a></p>
                </div>
                <div class="signup">
                    <div><a href="signup.html"  class="button" style="color: white; text-decoration: none;">Creare a new account</a></div>
                </div>
            </form>
        </div>
    </div>





    <script>
        
        const form = document.getElementById("loginForm");

        form.addEventListener("submit",function(even){
            even.preventDefault();


            let email = document.getElementById("email").value.trim();
            let password = document.getElementById("password").value.trim();

            if(email==="" && password===""){
                alert("Please fill email and password before login!");
                return;
            }
            else if(email===""){
                alert("Please fill email address before login!");
                return;
            }
            else if(password===""){
                alert("Please fill password before login!");
                return;
            }


            let users = JSON.parse(localStorage.getItem("users")) || [];



            if (users.length === 0) {
                alert("No account found! Please sign up first.");
                window.location.href = "signUp.html";
                return;
            }

            // find user by email & password
            let foundUser = users.find(u => u.email === email && u.password === password);

            if (foundUser) {
                window.location.href = "home.html";
            } else {
                alert("Incorrect email or password!");
            }
            
        })

    </script>


</body>

</html>